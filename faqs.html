<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="https://unpkg.com/alpinejs@3.10.2/dist/cdn.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <title>FAQs component</title>
</head>
<body>
    <div x-data="faqs" >
        <div class="text-2xl font-bold ml-6 mt-6" >FAQs</div>
        <div class="mx-8" >
            <template x-for="faq in faqs" :key="faq.question" >
                <div>
                    <button class="w-full font-bold border-b border-gray-400 py-3 flex items-center justify-between px-2 mt-4" @click="faqs = showAnswer(faqs, faq)" type="submit" >
                        <div x-text="faq.question"></div>
                        <svg xmlns="http://www.w3.org/2000/svg" :class="{'rotate-180': faq.isOpen}" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="text-gray-700 text-sm mt-2 px-2" x-text="faq.ans" x-show="faq.isOpen"></div>
                </div>
            </template>
        </div>
    </div>
    <script>
        document.addEventListener('alpine:init', () => {
        Alpine.data('faqs',()=>({
            faqs: [
                {
                    question: 'This is question one?',
                    ans: 'This is answer one',
                    isOpen: false
                },
                {
                    question: 'This is question two?',
                    ans: 'This is answer two',
                    isOpen: false
                },
                {
                    question: 'This is question three?',
                    ans: 'This is answer three',
                    isOpen: false
                }
            ],
            showAnswer(faqs, faq){
                return faqs.map(f => ({...f, isOpen: f.question !== faq.question ? false : !f.isOpen}))
            }
        }))
    })
    </script>
</body>
</html>